generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model Trainees {
  id             Int       @id @default(autoincrement())
  fullName       String
  norm_fullName  String?
  jobTitle       String?
  speciality     String?
  qualification  String?
  graduationDate String?
  birthDate      String?
  hiringDate     String?
  school_id      Int?
  teachersCode   String?   @unique
  nationalID     String?   @unique
  address        String?
  telephone      String?   @unique
  email          String?   @unique
  createdAt      DateTime? @default(now())
  school         Schools?  @relation(fields: [school_id], references: [id])
  courses        Courses[] @relation("CoursesToTrainees")
}

model Trainers {
  id            Int       @id @default(autoincrement())
  fullName      String
  norm_fullName String?
  speciality    String?
  address       String?
  telephone     String?   @unique
  email         String?   @unique
  createdAt     DateTime? @default(now())
  courses       Courses[]
}

model Courses {
  id               Int             @id @default(autoincrement())
  subject          String
  startDate        String?
  finishDate       String?
  attendanceDays   Int?
  trainerId        Int?
  courseCode       Int?            @unique
  courseLevel      String?
  school_id        Int?
  adminstrationId  Int?
  createdAt        DateTime?       @default(now())
  adminstration_id Adminstrations? @relation(fields: [adminstrationId], references: [id])
  school           Schools?        @relation(fields: [school_id], references: [id])
  trainer          Trainers?       @relation(fields: [trainerId], references: [id])
  trainees         Trainees[]      @relation("CoursesToTrainees")
}

model Adminstrations {
  id         Int       @id @default(autoincrement())
  name       String
  wehda_name String
  wehda_code Int
  balad_name String
  createdAt  DateTime? @default(now())
  courses    Courses[]
  schools    Schools[]
}

model Schools {
  id               Int             @id @default(autoincrement())
  name             String
  grade            String
  adminstrationsId Int?
  createdAt        DateTime?       @default(now())
  courses          Courses[]
  adminstration_id Adminstrations? @relation(fields: [adminstrationsId], references: [id])
  trainees         Trainees[]
}

model Specialities {
  id   Int    @id @default(autoincrement())
  name String @unique @default(uuid())
}
